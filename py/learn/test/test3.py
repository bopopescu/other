# -*- coding: utf-8 -*-
datadir = {'svg':'<svg width="960" height="450"><g transform="translate(50,20)" fill="steelblue"><path class="plugin_linechart_line" d="M0,400L6.1763251958323835,399.9999999999999C12.352650391664767,399.99999999999994,24.705300783329534,399.99999999999994,37.0579511749943,399.9999999999999C49.41060156665907,399.99999999999994,61.763251958323835,399.99999999999994,74.1159023499886,399.9999999999999C86.46855274165335,399.99999999999994,98.82120313331812,399.99999999999994,111.19077496387557,399.9999999999999C123.56034679443303,399.99999999999994,135.94684006388317,399.99999999999994,148.31641189444062,399.9999999999999C160.6859837249981,399.99999999999994,173.03863411666285,399.99999999999994,185.39128450832763,399.9999999999999C197.74393489999238,399.99999999999994,210.09658529165716,399.99999999999994,222.44923568332194,399.9999999999999C234.8018860749867,399.99999999999994,247.15453646665145,399.99999999999994,259.5241082972089,399.9999999999999C271.89368012776634,399.99999999999994,284.28017339721646,399.99999999999994,296.64974522777396,399.9999999999999C309.0193170583314,399.99999999999994,321.3719674499962,399.99999999999994,333.7246178416609,373.33333333333326C346.07726823332575,346.66666666666663,358.4299186249905,293.3333333333333,370.78256901665526,293.3333333333333C383.13521940832004,293.3333333333333,395.48786979998476,346.66666666666663,407.8574416305422,373.33333333333326C420.22701346109966,399.99999999999994,432.61350673054983,399.99999999999994,444.9830785611073,359.99999999999994C457.3526503916647,319.99999999999994,469.7053007833295,239.99999999999997,482.05795117499423,226.66666666666663C494.410601566659,213.33333333333331,506.7632519583238,266.66666666666663,519.1159023499886,239.99999999999997C531.4685527416533,213.33333333333331,543.821203133318,106.66666666666666,556.1907749638755,80C568.5603467944329,53.33333333333333,580.9468400638831,106.66666666666666,593.3164118944405,133.33333333333331C605.6859837249981,160,618.0386341166628,160,630.3912845083277,146.66666666666666C642.7439348999924,133.33333333333331,655.0965852916572,106.66666666666666,667.449235683322,119.99999999999999C679.8018860749867,133.33333333333331,692.1545364666514,186.66666666666666,704.5241082972088,200C716.8936801277664,213.33333333333331,729.2801733972165,186.66666666666666,741.649745227774,160C754.0193170583315,133.33333333333331,766.3719674499962,106.66666666666666,778.724617841661,133.33333333333331C791.0772682333258,159.99999999999997,803.4299186249905,239.99999999999997,815.7825690166552,280C828.1352194083199,320,840.4878697999847,320,852.8574416305421,333.33333333333326C865.2270134610995,346.66666666666663,877.6135067305497,373.33333333333326,883.8067533652747,386.66666666666663L890,400L890,400L883.8067533652747,399.9999999999999C877.6135067305497,399.99999999999994,865.2270134610995,399.99999999999994,852.8574416305421,399.9999999999999C840.4878697999847,399.99999999999994,828.1352194083199,399.99999999999994,815.7825690166552,399.9999999999999C803.4299186249905,399.99999999999994,791.0772682333258,399.99999999999994,778.724617841661,399.9999999999999C766.3719674499962,399.99999999999994,754.0193170583315,399.99999999999994,741.649745227774,399.9999999999999C729.2801733972165,399.99999999999994,716.8936801277664,399.99999999999994,704.5241082972088,399.9999999999999C692.1545364666514,399.99999999999994,679.8018860749867,399.99999999999994,667.4492356833218,399.9999999999999C655.0965852916572,399.99999999999994,642.7439348999924,399.99999999999994,630.3912845083277,399.9999999999999C618.0386341166628,399.99999999999994,605.6859837249981,399.99999999999994,593.3164118944405,399.9999999999999C580.9468400638831,399.99999999999994,568.5603467944329,399.99999999999994,556.1907749638755,399.9999999999999C543.821203133318,399.99999999999994,531.4685527416533,399.99999999999994,519.1159023499886,399.9999999999999C506.7632519583238,399.99999999999994,494.410601566659,399.99999999999994,482.0579511749943,399.9999999999999C469.7053007833295,399.99999999999994,457.3526503916647,399.99999999999994,444.9830785611073,399.9999999999999C432.61350673054983,399.99999999999994,420.22701346109966,399.99999999999994,407.8574416305422,399.9999999999999C395.48786979998476,399.99999999999994,383.13521940832004,399.99999999999994,370.78256901665526,399.9999999999999C358.4299186249905,399.99999999999994,346.07726823332575,399.99999999999994,333.724617841661,399.9999999999999C321.3719674499962,399.99999999999994,309.0193170583314,399.99999999999994,296.6497452277739,399.9999999999999C284.28017339721646,399.99999999999994,271.89368012776634,399.99999999999994,259.5241082972089,399.9999999999999C247.15453646665145,399.99999999999994,234.8018860749867,399.99999999999994,222.44923568332194,399.9999999999999C210.09658529165716,399.99999999999994,197.74393489999238,399.99999999999994,185.39128450832763,399.9999999999999C173.03863411666285,399.99999999999994,160.6859837249981,399.99999999999994,148.31641189444062,399.9999999999999C135.94684006388317,399.99999999999994,123.56034679443303,399.99999999999994,111.19077496387557,399.9999999999999C98.82120313331812,399.99999999999994,86.46855274165335,399.99999999999994,74.1159023499886,399.9999999999999C61.763251958323835,399.99999999999994,49.41060156665907,399.99999999999994,37.0579511749943,399.9999999999999C24.705300783329534,399.99999999999994,12.352650391664767,399.99999999999994,6.1763251958323835,399.9999999999999L0,400Z" full="steelbllue" stroke="steelblue" stroke-width="2px"></path><g class="plugin_linechart_axis" transform="translate(0,400)"><g class="tick" transform="translate(37.0579511749943,0)" style="opacity: 1;"><line y2="6" x2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">1990</text></g><g class="tick" transform="translate(111.17385352498289,0)" style="opacity: 1;"><line y2="6" x2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">1992</text></g><g class="tick" transform="translate(185.39128450832763,0)" style="opacity: 1;"><line y2="6" x2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">1994</text></g><g class="tick" transform="translate(259.50718685831623,0)" style="opacity: 1;"><line y2="6" x2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">1996</text></g><g class="tick" transform="translate(333.724617841661,0)" style="opacity: 1;"><line y2="6" x2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">1998</text></g><g class="tick" transform="translate(407.84052019164955,0)" style="opacity: 1;"><line y2="6" x2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">2000</text></g><g class="tick" transform="translate(482.0579511749943,0)" style="opacity: 1;"><line y2="6" x2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">2002</text></g><g class="tick" transform="translate(556.1738535249829,0)" style="opacity: 1;"><line y2="6" x2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">2004</text></g><g class="tick" transform="translate(630.3912845083277,0)" style="opacity: 1;"><line y2="6" x2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">2006</text></g><g class="tick" transform="translate(704.5071868583162,0)" style="opacity: 1;"><line y2="6" x2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">2008</text></g><g class="tick" transform="translate(778.724617841661,0)" style="opacity: 1;"><line y2="6" x2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">2010</text></g><g class="tick" transform="translate(852.8405201916495,0)" style="opacity: 1;"><line y2="6" x2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">2012</text></g><path class="domain" d="M0,6V0H890V6" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></path></g><g class="plugin_linechart_axis"><g class="tick" transform="translate(0,400)" style="opacity: 1;"><line x2="-6" y2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">0.0</text></g><g class="tick" transform="translate(0,360)" style="opacity: 1;"><line x2="-6" y2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">0.5</text></g><g class="tick" transform="translate(0,320)" style="opacity: 1;"><line x2="-6" y2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">1.0</text></g><g class="tick" transform="translate(0,280)" style="opacity: 1;"><line x2="-6" y2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">1.5</text></g><g class="tick" transform="translate(0,240)" style="opacity: 1;"><line x2="-6" y2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">2.0</text></g><g class="tick" transform="translate(0,200)" style="opacity: 1;"><line x2="-6" y2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">2.5</text></g><g class="tick" transform="translate(0,160)" style="opacity: 1;"><line x2="-6" y2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">3.0</text></g><g class="tick" transform="translate(0,120.00000000000001)" style="opacity: 1;"><line x2="-6" y2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">3.5</text></g><g class="tick" transform="translate(0,79.99999999999999)" style="opacity: 1;"><line x2="-6" y2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">4.0</text></g><g class="tick" transform="translate(0,39.99999999999999)" style="opacity: 1;"><line x2="-6" y2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">4.5</text></g><g class="tick" transform="translate(0,0)" style="opacity: 1;"><line x2="-6" y2="0" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">5.0</text></g><path class="domain" d="M-6,0H0V400H-6" fill="none" stroke="#000" stroke-width="1px" shape-rendering="crispEdges"></path><text transform="rotate(-90)" y="4" dy="0.71em" style="text-anchor: end;">Count</text></g></g></svg>'}
import httplib,urllib

def getimgurl(datadir):
    httpClient = None
    try:
        params = urllib.urlencode(datadir)
        headers = {"Content-type": "application/x-www-form-urlencoded","Accept": "text/plain"}
        httpClient = httplib.HTTPConnection("10.214.145.223",3000, timeout=30)
        httpClient.request("POST", "/analytics/genpng", params, headers)
        response = httpClient.getresponse()
        #print response.status
        #print response.reason
        content=response.read()
        #print response.getheaders() #获取头信息
    except Exception, e:
        print e
    finally:
        if httpClient:
            httpClient.close()
    return content

print getimgurl(datadir)